<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Cloud Mentor Task</title>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" rel="stylesheet"/>
<link href="../../static/css/md_styles.css" rel="stylesheet"/>
</head>
<body>
<div class="container-xl my-4">
<div id="creditsModalBlock"></div>
<div class="mb-3" id="firstTemporaryCredits"></div>
<div class="mb-3" id="taskDefinition">
<div align="center" class="h2">
</div>
<div class="container-fluid p-4 rounded bg-secondary-subtle" id="definitionContent">
</div>
</div>
<div id="liveAlertPlaceholder"></div>
<div id="taskStartForm">
<h2>Preparations</h2>
<!-- Modal -->
<div aria-hidden="true" aria-labelledby="dynamicInputErrorModal" class="modal fade" id="dynamicInputErrorModal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" style="position: absolute; bottom: 0; left: 0; right: 0; margin: auto;">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title fs-5" id="dynamicInputErrorModalLabel">
                        Input parameters error</h1>
</div>
<div class="modal-body" id="dynamicInputErrorMessage"></div>
<div class="modal-footer">
<button class="btn btn-primary" data-bs-dismiss="modal" id="dynamicInputErrorCloseButton" type="button">
                        Close
                    </button>
</div>
</div>
</div>
</div>
<form>
<div id="dynamicStartParameters"></div>
<button class="btn btn-outline-success mt-3" id="startTaskButton" type="submit">
            Start task
        </button>
</form>
</div>
<div class="mb-3 d-none" id="deploymentLoader">
<p class="lead text-muted">Please wait while we prepare the resources needed for this task.
        It can take several minutes...</p>
<div class="spinner-border" role="status">
<span class="visually-hidden">Loading...</span>
</div>
</div>
<!-- Modal -->
<div aria-hidden="true" aria-labelledby="resetTaskModal" class="modal fade" id="resetTaskModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title fs-5" id="resetTaskModalLabel">Important Notice</h1>
</div>
<div class="modal-body">
<p>Dear User,</p>
<p>
              It has been 30 minutes since you started the task. If you encounter any issues with the system,
              please click "Reset task" to abort the current task. This will initiate the cleaning process for
              the task's infrastructure resources in your account.
            </p>
<p>
              Please don't try to run new task. Restart current task and if you'll face that issue
              again contact our support team.
            </p>
<p>
              If you are uncertain, you may close the dialog. It will appear in 30 minutes again.
            </p>
</div>
<div class="modal-footer">
<button class="btn btn-outline-danger" data-bs-dismiss="modal" id="resetTaskButton" type="button">Reset task</button>
<button class="btn btn-primary" data-bs-dismiss="modal" id="closeDialogButton" type="button">Close</button>
</div>
</div>
</div>
</div>
<div class="mb-3 d-none" id="taskValidationForm">
<h2>Verify task</h2>
<p class="text-muted">Solve the given problem.
        After that use buttons below to verify your solution. Verification can take several minutes.
    </p>
<div id="dynamicVerifyParameters"></div>
<div aria-label="Verify or abort" class="btn-group mb-3" role="group">
<button class="btn btn-outline-success" disabled="" id="verifyTaskButton" type="submit">
<span aria-hidden="true" class="spinner-border-sm" role="status"></span>
<span>Verify</span>
</button>
<button class="btn btn-outline-danger" disabled="" id="abortTaskButton" type="submit">
<span aria-hidden="true" class="spinner-border-sm" role="status"></span>
<span>Abort</span>
</button>
</div>
</div>
<div class="mb-3 d-none" id="taskValidations">
<h2 class="mb-3">Checks</h2>
<div class="accordion" id="validationsAccordion">
</div>
</div>
<div class="mb-3 d-none" id="taskValidationsFailed">
<div class="alert alert-warning" role="alert">
<div>
<h4 class="alert-heading">Task verification failed!</h4>
<p>
        During task verification, an error has occurred.
        Consequently, the task will be terminated, and its associated resources will be
        removed.
        Please, try to run the task later. If this message recurs, please get in touch with our support team.
      </p>
</div>
</div>
</div>
<div class="mb-3 d-none" id="destroymentLoader">
<p class="lead text-muted">Please, wait while the resources are <b>being
        destroyed</b>. It can take several minutes...</p>
<p class="lead text-muted">You will receive confirmation, once the resources
        have been successfully removed.</p>
<div class="spinner-border" role="status">
<span class="visually-hidden">Loading...</span>
</div>
</div>
<div class="mb-3 d-none" id="destroymentNotification">
<h2 class="mb-3">Task resources status:</h2>
<div class="accordion">
<div class="accordion-item">
<h2 class="accordion-header">
<button aria-expanded="false" class="accordion-button collapsed bg-danger-subtle" data-bs-target="#destroument-accordion" data-bs-toggle="collapse" id="destroymentNotificationButton" type="button">See more</button>
</h2>
<div class="accordion-collapse collapse" id="destroument-accordion">
<div class="accordion-body" id="destroymentContent" style="white-space: pre-wrap;"></div>
</div>
</div>
</div>
</div>
<div class="mb-3 d-none" id="taskFeedback">
<h2 class="mb-2">Feedback</h2>
<form>
<fieldset disabled="">
<div class="mb-2">
<div class="mb-3">You can complete the course after submitting
                    your
                    feedback. Review will be sent automatically after 5 minutes
                    (blank) if you do not submit manually.
                </div>
<label class="form-label" for="feedbackScoreInput">Feedback
                    score</label>
<select class="form-select" id="feedbackScoreInput">
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option selected="" value="5">5</option>
</select>
</div>
<div class="mb-2">
<label class="form-label" for="feedbackCommentInput">Comment:</label>
<textarea class="form-control" id="feedbackCommentInput" rows="2"></textarea>
</div>
<button class="btn btn-outline-success mb-3" id="submitFeedbackButton" type="submit">Submit feedback and
                complete the task
            </button>
</fieldset>
<div class="mb-3 d-none" id="feedbackThank">Thank you for your feedback!
            Your task is marked as completed.
        </div>
</form>
</div>
<div class="mb-3 d-none" id="restartTask">
<hr class="mt-4"/>
<!-- Modal -->
<div aria-hidden="true" aria-labelledby="restartTaskModalLabel" class="modal fade" id="restartTaskModal" tabindex="-1">
<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" style="position: absolute; bottom: 0; left: 0; right: 0; margin: auto;">
<div class="modal-content">
<div class="modal-header">
<h1 class="modal-title fs-5" id="restartTaskModalLabel">Restart Task Confirmation</h1>
<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
</div>
<div class="modal-body">You are about to restart your task. Please note:
            <ol>
<li><b>Resource Reset:</b> Pay attention that task resource naming could be changed.</li>
<li><b>New Attempt:</b> Click "Start Task" to begin anew.</li>
<li><b>Score: </b> Your current score will be saved till the new task start and updated after start.</li>
</ol>
</div>
<div class="modal-footer">
<button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Cancel</button>
<button class="btn btn-primary" data-bs-dismiss="modal" id="restartTaskButton" type="button">Submit</button>
</div>
</div>
</div>
</div>
<div class="text-center">
<button class="mb-3 btn btn-warning w-25" data-bs-target="#restartTaskModal" data-bs-toggle="modal" id="showModalButton">Restart the task</button>
</div>
</div>
<div class="mb-3 d-none" id="restartLoader">
<p class="lead text-muted">Restarting...</p>
<div class="spinner-border" role="status">
<span class="visually-hidden">Loading...</span>
</div>
</div>
</div>
<script src="../static/js/main.js"></script>
<script crossorigin="anonymous" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    window.dynamicData = {
  "start_params": {
    "CLI_USAGE_CHECK": {
      "label": "CLI usage check (the duration of the verification will be extended by 5 minutes to allow for the updating of the CloudTrail logs):",
      "tag": "input",
      "attributes": {
        "class": "form-check-input",
        "type": "checkbox"
      },
      "checked": true
    },
    "AWS_REGION": {
      "label": "Target region:",
      "tag": "select",
      "attributes": {
        "class": "form-select",
        "area-required": "true",
        "style": "width: 20%;"
      },
      "allowed_values": [
        "eu-central-1",
        "us-east-1"
      ],
      "required": true
    },
    "AWS_ACCESS_KEY_ID": {
      "label": "Access key:",
      "tag": "input",
      "attributes": {
        "class": "form-control",
        "type": "text",
        "placeholder": "e.g. AKIA..."
      },
      "required": true
    }
  },
  "verify_params": {
    "CLI_USAGE_CHECK": {
      "label": "CLI usage check (the duration of the verification will be extended by 5 minutes to allow for the updating of the CloudTrail logs):",
      "tag": "input",
      "attributes": {
        "class": "form-check-input",
        "type": "checkbox"
      },
      "checked": true
    },
    "AWS_REGION": {
      "label": "Target region:",
      "tag": "select",
      "attributes": {
        "class": "form-select",
        "area-required": "true",
        "style": "width: 20%;"
      },
      "allowed_values": [
        "eu-central-1",
        "us-east-1"
      ],
      "required": true
    },
    "AWS_ACCESS_KEY_ID": {
      "label": "Access key:",
      "tag": "input",
      "attributes": {
        "class": "form-control",
        "type": "text",
        "placeholder": "e.g. AKIA..."
      },
      "required": true
    },
  }
};
</script>
<script src="../static/js/mocks.js"></script>
<script src="../static/js/helpers.js"></script>
<script src="../static/js/jtm.js"></script>
<script>window.LiveReloadOptions = {host: "localhost"}</script><script crossorigin="anonymous" integrity="sha512-DSycG/J5pRCjy6wZ8nfeqaKuSAf9jVmSulTuzy1xQL+2yyBIp7fwzNvx+tZCtZ6kIRMqiDyWOYSl4zYjT32zOw==" src="https://cdnjs.cloudflare.com/ajax/libs/livereload-js/3.3.1/livereload.min.js"></script></body>
</html>